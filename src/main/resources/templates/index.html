<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MARKET VENTAS CYL</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/transicionFullScreen.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg" data-bs-theme="dark" id="nav" style="background-color: #145170;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">MARKET VENTAS CYL</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/venta/lista">Principal</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Producto
                        </a>
                        <ul class="dropdown-menu">
							<li><a class="dropdown-item" href="/mantenimiento/producto/lista">Consulta</a></li>
                            <li><a class="dropdown-item" href="/mantenimiento/producto/registro">Registro</a></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" aria-disabled="true">Disabled</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


	

	<div class="contenedor-carrusel">
		<div class="carrusel-deslizar " id="DeslizaCarrusel">
			<!-- Slide 1 -->
			<div class="carrusel-articulo">
				<div class="container ">
					<div class="d-flex justify-content-between flex-wrap mb-3 mt-2" id="headerCategoria">
						<h3 class="mb-0 text-center text-md-start fw-bold text-success">CATEGORIAS </h3>
						<button class="btn btn-success mt-2  col-lg-3" type="button"
							onclick="cambiarSlide(-1)">Volver</button>
					</div>
					<div class="custom-scroll-container" id="conteneCategoria">
						<div class="custom-scroll-content">

							<div class="row">
								<div class="col-md-3 col-6" th:each="cat : ${categorias}">

									<div class="category-card" data-bs-toggle="modal" data-bs-target="#categoryModal"
										th:attr="onclick=|abrirModal('${cat.nomcateg}')|">
										<img th:src="@{/images/{img}.png(img=${cat.nomcateg})}"
											class="category-image img-thumbnail rounded" alt="Categor√≠a" loading="lazy">
										<h5 class="text-center mt-2" th:text="${cat.nomcateg}">Nombre Categor√≠a</h5>
									</div>
								</div>
							</div>

						</div>
					</div>

				</div>
			</div>

			<!-- Slide 2   -->
			<div class="carrusel-articulo">
				<div class="container">


					<div class="row">
						<div class="col-12 col-sm-12 col-md-12 col-lg-5"
							style="border-bottom: 3px solid #518a6a; border-left: 1px solid #b0cdbd; border-right: 1px solid #b0cdbd;">

							<div id="cabezaColumna" class="mt-3">
								<div class="d-inline-flex gap-1 col-12">
									<div class="col-7 col-sm-7 col-md-7 col-lg-5">
										<input type="text" id="buscadorProducto" autofocus class="form-control"
											placeholder="üîé Buscar" oninput="buscar(this, 'suggestions-1')">

										<div class="dropdown">
											<ul id="suggestions-1" class="dropdown-menu"></ul>
										</div>


									</div>

									<div class="col-auto ms-auto">
										<a type="button" class="btn btn-primary py-2 btn-md fa-solid fa-camera"
											id="startScannerButton" data-bs-toggle="modal"
											data-bs-target="#barcodeModal" ></a>
										<a type="button" class="btn btn-primary py-2 btn-md fa-solid fa-list"
											id="categorias" onclick="cambiarSlide(-1)"></a>
										<a type="button" class="btn btn-primary py-2 btn-md fa-solid fa-rotate-left"
											id="limpiarTabla" onclick="limpiarTabla()"></a>
									</div>

								</div>
								<div class="col-12 mt-2">
									<div class="row bg-success-subtle table-success py-2"
										style="font-size: 14px; font-weight: bold; border-bottom: 2px solid #518a6a;">
										<div class="text-center col-5" style="padding-right: 0;">NOMBRE</div>
										<div class="text-end col-2" style="padding: 0;">PREC</div>
										<div class="text-center col-2" style="padding: 0;">UND</div>
										<div class="text-center col-1" style="padding: 0;">S/.</div>
										<div class="text-center col-2" style="padding-left: 0;"></div>
									</div>
								</div>
							</div>





							<div class="custom-scroll-container" style=" width: 100%;" id="contenedorTablaVenta">
								<!---->
								<div class="custom-scroll-content" style="width: 100%; font-size: 16px;"
									id="productTableBody">
									<!--<div class="row py-2 border-bottom bg-body-secondary">
										<div class="col-6" style="padding-right: 0; ">NOMBRE</div>
										<div class="text-start col-1" style="padding: 0; width: 12%;">88.50</div>
										<div class="text-center col-1" style="padding: 0; width: 11%;">0.450</div>
										<div class="text-end col-2" style="padding: 0; width: 12%;">23.00</div>
										<div class="text-end col-2" style="padding: 0; width: 12%;">
											<button class="btn btn-danger fa-solid fa-trash"
												onclick="removeProduct('${product.name}')"
												style="font-size: 0.6em;"></button>
										</div>
									</div>-->
								</div>
							</div>




							<div class="" id="pieColumna">
								<div class=" col-12">
									<div class="row py-1 bg-success-subtle"
										style="font-weight: bold; border-top: 2px solid #518a6a; ">
										<div class="col-2 text-center pt-2" style="font-size: 17px; display: flex;">
											<label class="me-2" style="font-size: 15px;">Efectivo:</label>
										</div>

										<div class="col-3 pt-2">
											<input class="form-control ms-2 " type="number" id="efectivo"
												oninput="calculoVuelto(this, 'montoTabla', 'vuelto')" value="0">
										</div>

										<div class="col-2 text-end pt-2" style="font-size: 17px;">S/.</div>

										<div class="col-3 text-end" style="font-size: 31px; padding: 0;"><label
												id="montoTabla">0.00</label>
										</div>
										<div class="col-2 text-center" style="padding: 0; font-size: 18px;"><label
												class="mt-3">Total</label></div>
									</div>
								</div>
								<div class=" col-12">
									<div class="row py-2 pt-0 bg-success-subtle" style="font-weight: bold; ">

										<div class="col-10 text-end" style="font-size: 30px; padding: 0;" id="vuelto">
											0.00
										</div>
										<div class="col-2 text-center" style="padding: 0; font-size: 16px;"><label
												class="mt-3">Vuelto</label></div>
									</div>
								</div>

								<div class="row bg-success-subtle ">
									<div class="d-inline-flex gap-1 col-12 mb-3">
										<a type="button"
											class="btn btn-primary py-2 mb-2 btn-md fa-solid fa-floppy-disk "
											id="congelar" onclick="freezeList()"></a>
										<div class="col-4 ">
											<input type="text" id="clientName" class="form-control"
												placeholder="Cliente">
										</div>
										<div class="col-auto ms-auto">
											<button class="btn btn-danger  btn-lg"
												onclick="addProduct()">COBRADO</button>
										</div>
									</div>

								</div>


							</div>

							<!--</div>-->

						</div>

						<div class="col-12 col-sm-12 col-md-12 col-lg-7 " id="segundo">

							<div class="row  background-title-container" id="freezeventas">
								<div class="col-12 my-3 ms-1 me-3"  style="overflow: hidden; position: relative;">
									<div class="background-title">ACCESOS</div>
									<div class="gap-1" id="savedLists" style="display: inline-flex;">
									</div>
								</div>
							</div>


							<div class="border bg-dark-subtle" id="contenedorAccesoRapido">
								<div class="custom-scroll-container bg-dark-subtle" >
									<div class="row row-cols-2 row-cols-md-3 g-2 m-2" id="listadoAccesos">

									</div>
								</div>
							</div>



							<div class="row" id="pieAccesoDirecto">
								<div class="d-flex justify-content-end gap-1 col-12 mt-3 my-3" >
									<div class="col-4 col-sm-4 col-md-4 col-lg-2">
										<label class="mt-2 me-2" style="font-size: 14px; font-weight: bold;">Nuevo Acceso:</label>
									</div>
									
									<div class="col-4">
										<div class="dropdown sugerenciasAccesoDirecto">
											<ul id="suggestions-2" class="dropdown-menu"></ul>
										</div>
										<input type="text" id="productName" class="form-control" placeholder="Producto"
											oninput="buscadorAccess(this, 'suggestions-2')">
									</div>

									<div class="me-2">
										<a type="button" class="btn btn-success py-2 btn-md fa-solid fa-plus"
											id="AgregaAcceso" onclick="actualizarAccesoDir(1)"></a>

											
										<a type="button" class="btn btn-danger py-2 btn-md fa-solid fa-minus"
											id="QuitaAcceso" onclick="actualizarAccesoDir(0)"></a>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>


	</div>






	<!-- Modal CATEGORIAS -->
	<div class="modal" id="categoryModal">
		<div class="modal-dialog modal-fullscreen">
			<div class="modal-content">
				<div class="modal-header d-flex justify-content-center">
					<h3 class="modal-title text-center w-100 fw-bold" id="categoryModalLabel">Categor√≠a Seleccionada
					</h3>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="container">
						<div class="row" id="listaPorCategoria">

						</div>
					</div>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
				</div>
			</div>
		</div>
	</div>
	<!-- FINAL Modal CATEGORIAS -->


	<!--MODAL lector ZXing-->
	<div class="modal fade" id="barcodeModal" tabindex="-1" aria-labelledby="barcodeModalLabel" aria-hidden="inert">
		<div class="modal-dialog modal-dialog-centered modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="barcodeModalLabel">LECTOR DE C√ìDIGO</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
				</div>

				<div class="modal-body text-center" style="display: grid; place-items: center; overflow: hidden;">
					<video id="video" autoplay style="max-width: 100%; height: auto;"></video>
					<canvas id="debugCanvas" class="mt-3"
						style="max-width: 100%; height: auto; display: none; position: absolute; top: 0; pointer-events: none;"></canvas>
				</div>

				<div class="modal-footer">
					<span id="detectedCode" class="text-success fw-bold"></span>
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
				</div>
			</div>
		</div>
	</div>


	<!--lector ZXing
	<script src="https://cdn.jsdelivr.net/npm/@zxing/library@latest/umd/index.min.js"></script>-->
	<script src="/js/zxing.min.js" defer></script> <!--En el archivo est√° el c√≥digo del CDN-->
	<script src="/js/zxing.js" defer></script>

	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="/js/TransicionFullScreen.js"></script>
	<script src="/js/modalesVenta.js"></script>
	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	        crossorigin="anonymous"></script>

</body>

</html>

